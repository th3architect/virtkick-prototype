!function(t){"use strict";t.ajaxChimp={responses:{"We have sent you a confirmation email":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid (the portion after the @: )":3,"The username portion of the email address is invalid (the portion before the @: )":4,"This email address looks fake or invalid. Please enter a real email address":5},translations:{en:null},init:function(e,n){t(e).ajaxChimp(n)}},t.fn.ajaxChimp=function(e){return t(this).each(function(n,r){var i=t(r),o=i.find("input[type=email]"),s=i.find("label[for="+o.attr("id")+"]"),a=t.extend({url:i.attr("action"),language:"en"},e),l=a.url.replace("/post?","/post-json?").concat("&c=?");i.attr("novalidate","true"),o.attr("name","EMAIL"),i.submit(function(){function e(e){if("success"===e.result)n="We have sent you a confirmation email",s.removeClass("error").addClass("valid"),o.removeClass("error").addClass("valid");else{o.removeClass("valid").addClass("error"),s.removeClass("valid").addClass("error");var r=-1;try{var i=e.msg.split(" - ",2);if(void 0===i[1])n=e.msg;else{var l=parseInt(i[0],10);l.toString()===i[0]?(r=i[0],n=i[1]):(r=-1,n=e.msg)}}catch(u){r=-1,n=e.msg}}"en"!==a.language&&void 0!==t.ajaxChimp.responses[n]&&t.ajaxChimp.translations&&t.ajaxChimp.translations[a.language]&&t.ajaxChimp.translations[a.language][t.ajaxChimp.responses[n]]&&(n=t.ajaxChimp.translations[a.language][t.ajaxChimp.responses[n]]),s.html(n),s.show(2e3),a.callback&&a.callback(e)}var n,r={},u=i.serializeArray();t.each(u,function(t,e){r[e.name]=e.value}),t.ajax({url:l,data:r,success:e,dataType:"jsonp",error:function(t,e){console.log("mailchimp ajax submit error: "+e)}});var c="Submitting...";return"en"!==a.language&&t.ajaxChimp.translations&&t.ajaxChimp.translations[a.language]&&t.ajaxChimp.translations[a.language].submit&&(c=t.ajaxChimp.translations[a.language].submit),s.html(c).show(2e3),!1})}),this}}(jQuery);